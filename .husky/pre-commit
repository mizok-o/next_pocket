#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "üîç Running biome check on staged files..."

# Use lint-staged to run biome on staged files
npx lint-staged

lint_staged_exit_code=$?

if [ $lint_staged_exit_code -ne 0 ]; then
  echo ""
  echo "‚ùå Biome found issues that require manual fixing."
  echo "Please fix the issues above and commit again."
  echo ""
  echo "You can run the following commands to help fix issues:"
  echo "  npm run biome:fix    # Auto-fix what can be fixed"
  echo "  npm run biome:check  # Check all files"
  echo ""
  exit 1
fi

echo "‚úÖ All files passed biome checks!"